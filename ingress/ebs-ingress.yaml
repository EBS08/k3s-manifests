apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: ebs-ingress
  namespace: ebs
  annotations:
    kubernetes.io/ingress.class: "traefik"
spec:
  tls:
    - hosts:
        - jenkins.ebs.monitor.corp
        - portainer.ebs.monitor.corp
        - grafana.ebs.monitor.corp
        - prometheus.ebs.monitor.corp
        - kibana.ebs.monitor.corp
      secretName: ebs-monitor-corp-tls
  rules:
    - host: jenkins.ebs.monitor.corp
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: jenkins
              port:
                number: 8080
    - host: portainer.ebs.monitor.corp
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: portainer
              port:
                number: 9000
    - host: grafana.ebs.monitor.corp
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: grafana
              port:
                number: 3000
    - host: prometheus.ebs.monitor.corp
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: prometheus
              port:
                number: 9090
    - host: kibana.ebs.monitor.corp
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              name: kibana
              port:
                number: 5601